stages:
  - "lint"
  - "build"

.set_tags: &set-tags  
  tags:
    - qt-win-runner1

pylint:
  <<: *set-tags
  stage: "lint"
  script:
    - echo "lint"
    - conda init powershell
    - conda activate pyqt 
    - conda env list
    - python -m pip install pylint'
    - pylint --errors-only Plot/ Network/ uart/ utils/'

build:
  <<: *set-tags
  stage: "build"

  script:
    - echo "build"
    - conda init powershell
    - conda activate pyqt 
    - conda env list
    - python setup.py'

  artifacts:
    name: "$CI_JOB_NAME-$CI_COMMIT_REF_NAME"
    paths:
      - dist/